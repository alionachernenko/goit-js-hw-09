{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAGA,MAAMC,EAAaC,SAASC,cAAc,qBACpCC,EAAYF,SAASC,cAAc,oBACnCE,EAAcH,SAASC,cAAc,sBACtBD,SAASC,cAAc,UAK5C,SAASG,EAAcC,EAAUC,GAC7B,MAAMC,EAAgBC,KAAKC,SAAW,GACtC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3BC,YAAW,KAAWN,EAChBI,EAAQ,CACJN,SAAUA,EACVC,MAAOA,IAIXM,EAAO,CACHP,SAAUA,EACVC,MAAOA,GACT,GACFA,EAAM,G,CAlBIN,SAASC,cAAc,QAE/Ba,iBAAiB,UAoB/B,SAA+BC,GAC3BA,EAAMC,iBACN,IAAIC,EAAU,EACVC,EAAU,EACdd,EAAca,EAASE,OAAOpB,EAAWqB,QACpCC,MAAK,EAAChB,SAACA,EAAQC,MAAEA,MAAYgB,EAAAzB,GAAS0B,OAAOC,QAAQ,uBAAqBnB,QAAiBC,MAAU,IACnGmB,OAAI,EAACpB,SAACA,EAAQC,MAAEA,MAAYgB,EAAAzB,GAAS0B,OAAOG,QAAQ,sBAAoBrB,QAAiBC,MAAU,IACxG,MAAIqB,EAAaC,aAAY,KACvBX,IAAYE,OAAOhB,EAAYiB,MAAQ,IAAIS,cAAcF,GAC7DV,GAAW,EACXC,GAAWC,OAAOjB,EAAUkB,OAC5BhB,EAAca,EAASC,EAAUC,OAAOpB,EAAWqB,QAClDC,MAAK,EAAChB,SAACA,EAAQC,MAAEA,MAAYgB,EAAAzB,GAAS0B,OAAOC,QAAQ,uBAAqBnB,QAAiBC,MAAU,IACnGmB,OAAI,EAACpB,SAACA,EAAQC,MAAEA,MAAYgB,EAAAzB,GAAS0B,OAAOG,QAAQ,sBAAoBrB,QAAeC,MAAU,GAAI,GACxGJ,EAAUkB,M","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\nimport \"notiflix/dist/notiflix-3.2.5.min.css\";\n\nconst delayInput = document.querySelector('input[name=delay]')\nconst stepInput = document.querySelector('input[name=step]')\nconst amountInput = document.querySelector('input[name=amount]')\nconst submitButton = document.querySelector('button')\nconst generatorForm = document.querySelector('form')\n\ngeneratorForm.addEventListener('submit', onGeneratorFormSubmit)\n\nfunction createPromise(position, delay){\n    const shouldResolve = Math.random() > 0.3;\n    return new Promise((resolve, reject) =>{\n      setTimeout(() => {if (shouldResolve) {\n            resolve({\n                position: position,\n                delay: delay\n            })\n        }\n        else {\n            reject({\n                position: position,\n                delay: delay\n            })\n        }}, delay)\n    })\n}\n\nfunction onGeneratorFormSubmit(event){\n    event.preventDefault()\n    let counter = 1\n    let stepVal = 0\n    createPromise(counter, Number(delayInput.value))\n        .then(({position, delay}) => {Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`)})\n        .catch(({position, delay}) => {Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`)})\n    const intervalId = setInterval(() => {{\n        if (counter === Number(amountInput.value - 1)) clearInterval(intervalId)\n        counter += 1\n        stepVal += Number(stepInput.value)\n        createPromise(counter, stepVal + Number(delayInput.value))\n        .then(({position, delay}) => {Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`)})\n        .catch(({position, delay}) => {Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`)})\n    }}, stepInput.value)\n}\n\n\n\n\n\n\n"],"names":["$eWCmQ","parcelRequire","$47d4ff9957288465$var$delayInput","document","querySelector","$47d4ff9957288465$var$stepInput","$47d4ff9957288465$var$amountInput","$47d4ff9957288465$var$createPromise","position","delay","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","addEventListener","event","preventDefault","counter","stepVal","Number","value","then","$parcel$interopDefault","Notify","success","catch","failure","intervalId","setInterval","clearInterval"],"version":3,"file":"03-promises.b8d37d11.js.map"}